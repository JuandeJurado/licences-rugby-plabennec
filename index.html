<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Licences 2024-2025 | Rugby Club</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
            max-width: 600px;
            margin: 1rem auto;
        }
        @media print {
            .no-print {
                display: none;
            }
            .print-break-before {
                page-break-before: always;
            }
            body {
                font-size: 10pt;
            }
            .print-bg-white {
                background-color: white !important;
            }
            .print-text-black {
                color: black !important;
            }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">

        <header class="flex justify-between items-center mb-10">
            <img src="blason plabennec.png" alt="Blason Rugby Club Plabennec" class="mx-auto mb-4 w-32 md:w-40">
            <div class="text-right">
                <h1 class="text-3xl md:text-4xl font-bold text-rose-900 leading-tight">
                    <span class="text-yellow-500">Rugby</span>
                    <span class="text-black">Club</span>
                    <span class="text-red-600">Plabennec</span>
                </h1>
                <p class="text-lg text-stone-600 mt-1">Rejoignez l'Aventure de Votre Club !</p>
            </div>
        </header>

        <section id="intro" class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-bold text-rose-900 mb-4">Message du Club : Une Nouvelle Saison, Ensemble !</h2>
            <div class="space-y-4 text-stone-700">
                <p>Bonjour √† toutes et √† tous,</p>
                <p>Une nouvelle saison passionnante s'appr√™te √† d√©marrer, et comme chaque ann√©e, <strong class="font-semibold">nous avons besoin de vous !</strong> Au c≈ìur de notre club, ce sont nos licenci√©s qui font notre force, de l'√©cole de rugby jusqu'aux seniors, en passant par le p√¥le jeunes.</p>
                <p>Apr√®s une ann√©e sportive riche en √©motions, nous abordons cette saison avec de grandes ambitions. Nous sommes fiers d'annoncer la cr√©ation d'une <strong class="font-semibold">"Acad√©mie"</strong> d√©di√©e aux joueurs de M14 aux Juniors les plus motiv√©s, un <strong class="font-semibold">renforcement de la formation continue de nos √©ducateurs</strong>, et bien d'autres projets passionnants !</p>
            </div>
        </section>

        <section id="details">
             <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <h2 class="text-2xl font-bold text-rose-900 mb-4">Soutenez Votre Club : Devenez Donateur !</h2>
                <p class="text-stone-700 mb-4">Cette ann√©e, en choisissant l'option "Licence Donateur", vous faites un don qui vous donne droit √† une <strong class="font-semibold">d√©duction fiscale de 66%</strong> du montant du don. Votre g√©n√©rosit√© nous permet d'acqu√©rir du mat√©riel essentiel (sacs de placage, ballons...), de financer les d√©placements et les activit√©s pour nos jeunes.</p>
                <p class="text-stone-700">En signe de reconnaissance, le nom des donateurs sera <strong class="font-semibold">grav√© sur une plaque</strong> sur notre terrain principal. C'est un moyen concret de soutenir le club au-del√† de la licence standard. Mais votre engagement peut prendre d'autres formes tout aussi pr√©cieuses ! Un autre moyen essentiel de faire vivre le club est, bien s√ªr, de devenir b√©n√©vole et de participer activement aux nombreuses activit√©s que nous proposons. Chaque coup de main compte et nous permet d'aller encore plus loin ensemble !</p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-md mb-8 print-break-before">
                <h2 class="text-2xl font-bold text-rose-900 mb-4">Grille Tarifaire Compl√®te 2024-2025</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead class="bg-stone-200">
                            <tr>
                                <th class="p-2 border border-stone-300">Cat√©gorie</th>
                                <th class="p-2 border border-stone-300 text-right">Prix Licence</th>
                                <th class="p-2 border border-stone-300 text-right">Prix Donateur</th>
                                <th class="p-2 border border-stone-300 text-right">Co√ªt R√©el Donateur</th>
                            </tr>
                        </thead>
                        <tbody id="pricing-table-body" class="text-sm">
                        </tbody>
                    </table>
                </div>
            </div>

            <section id="calculator" class="bg-rose-50 p-6 rounded-lg shadow-md mb-8 no-print">
                <h2 class="text-2xl font-bold text-rose-900 mb-2 text-center">Explorez Votre Licence</h2>
                <p class="text-center text-stone-600 mb-6">S√©lectionnez une cat√©gorie pour voir les options et l'avantage du don.</p>
                
                <div class="max-w-md mx-auto">
                    <label for="category-select" class="block text-sm font-medium text-stone-700 mb-1">Choisissez une cat√©gorie :</label>
                    <select id="category-select" class="w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-rose-500 focus:border-rose-500">
                    </select>
                </div>

                <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                    <div id="pricing-options" class="space-y-4">
                        <div>
                            <h3 class="font-bold text-lg text-stone-700">Option 1 : Licence Standard</h3>
                            <p id="standard-price" class="text-3xl font-bold text-stone-800"></p>
                        </div>
                        <div class="border-t pt-4">
                            <h3 class="font-bold text-lg text-rose-900">Option 2 : Licence Donateur</h3>
                            <p id="donor-price" class="text-3xl font-bold text-rose-900"></p>
                            <p class="text-sm text-stone-600">Apr√®s d√©duction fiscale de 66%, votre co√ªt r√©el est de :</p>
                            <p id="net-cost" class="text-2xl font-semibold text-green-700"></p>
                        </div>
                    </div>
                    <div>
                        <div class="chart-container">
                            <canvas id="pricingChart"></canvas>
                        </div>
                        <p id="chart-explainer" class="text-xs text-center text-stone-500 mt-2"></p>
                    </div>
                </div>
            </section>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-bold text-rose-900 mb-4">Votre Licence Inclut :</h3>
                    <ul class="space-y-3 text-stone-700">
                        <li class="flex items-center"><span class="mr-3 text-green-600">‚úÖ</span> Acc√®s complet aux entra√Ænements et comp√©titions</li>
                        <li class="flex items-center"><span class="mr-3 text-green-600">üõ°Ô∏è</span> Assurance FFR (F√©d√©ration Fran√ßaise de Rugby)</li>
                        <li class="flex items-center"><span class="mr-3 text-green-600">üë®‚Äçüè´</span> Encadrement qualifi√© et passionn√©</li>
                        <li class="flex items-center"><span class="mr-3 text-green-600">üëï</span> Kit d'√©quipement (ex: short, chaussettes - fourni uniquement pour les nouveaux licenci√©s)</li>
                        <li class="flex items-center"><span class="mr-3 text-green-600">üèüÔ∏è</span> Acc√®s √† nos infrastructures de qualit√©</li>
                        <li class="flex items-center"><span class="mr-3 text-green-600">üéâ</span> Participation aux √©v√©nements et √† la vie du club</li>
                    </ul>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-md">
                     <h3 class="text-xl font-bold text-rose-900 mb-4">Informations Pratiques</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold">Modalit√©s de Paiement</h4>
                            <ul class="list-disc list-inside text-stone-700 text-sm mt-1">
                                <li>Paiement en 1, 2 ou 3 fois via l'application AlloAsso</li>
                                <li>Pour les familles, √† partir du 3√®me licenci√©, le tarif est calcul√© de la mani√®re suivante : le prix co√ªtant de la licence concern√©e, auquel s'ajoute le prix de la licence la plus ch√®re de la famille.</li>
                                <li>Aides accept√©es : Ch√®ques Vacances, Coupons Sport, Pass'Sport...</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold">Pr√™t √† nous rejoindre ?</h4>
                             <ul class="list-disc list-inside text-stone-700 text-sm mt-1">
                                <li>Inscriptions ouvertes d√®s le <strong>[Date]</strong></li>
                                <li>Permanences au club : <strong>[Jours et heures]</strong></li>
                                <li>Contact g√©n√©ral : <a href="mailto:secretariat@rugbyclubplabennec.com" class="text-blue-600 hover:underline">secretariat@rugbyclubplabennec.com</a></li>
                                <li>√âcole de rugby : <a href="mailto:cedric@rugbyclubpabennec.com" class="text-blue-600 hover:underline">cedric@rugbyclubpabennec.com</a></li>
                                <li>P√¥le jeunes & seniors : <a href="mailto:benoit@rugbyclubplabennec.com" class="text-blue-600 hover:underline">benoit@rugbyclubplabennec.com</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center mt-12 pt-6 border-t border-stone-300">
            <p class="text-stone-600">
                <span class="text-yellow-500">Rugby</span>
                <span class="text-black">Club</span>
                <span class="text-red-600">Plabennec</span>
            </p>
            <p class="text-sm text-stone-500">Fiers de nos couleurs, unis par la passion.</p>
        </footer>

    </div>

    <script>
        const pricingData = [
            { category: 'Baby', licence: 100, coutant: 50, donateur: 250, revient: 101 },
            { category: 'M6', licence: 125, coutant: 50, donateur: 250, revient: 110 },
            { category: 'M8', licence: 170, coutant: 50, donateur: 400, revient: 152 },
            { category: 'M10', licence: 170, coutant: 50, donateur: 400, revient: 170 },
            { category: 'M12', licence: 170, coutant: 50, donateur: 400, revient: 170 },
            { category: 'M14', licence: 170, coutant: 50, donateur: 400, revient: 170 },
            { category: 'M16', licence: 210, coutant: 80, donateur: 450, revient: 208 },
            { category: 'M19', licence: 210, coutant: 80, donateur: 450, revient: 208 },
            { category: 'SENIOR', licence: 250, coutant: 130, donateur: 500, revient: 258 },
            { category: 'LOISIR', licence: 130, coutant: 50, donateur: 300, revient: 130 },
            { category: 'SENIOR/Dirigeant', licence: 110, coutant: 130, donateur: 200, revient: 138 },
            { category: 'DIRIGEANT', licence: 35, coutant: 74, donateur: 130, revient: 76.4 }
        ];

        const categorySelect = document.getElementById('category-select');
        const standardPriceEl = document.getElementById('standard-price');
        const donorPriceEl = document.getElementById('donor-price');
        const netCostEl = document.getElementById('net-cost');
        const chartExplainerEl = document.getElementById('chart-explainer');
        const tableBody = document.getElementById('pricing-table-body');

        let pricingChart;

        function populateSelect() {
            pricingData.forEach((item, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = item.category;
                categorySelect.appendChild(option);
            });
        }

        function populateTable() {
            pricingData.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'border-b border-stone-200 hover:bg-stone-50';
                row.innerHTML = `
                    <td class="p-2 border border-stone-300 font-semibold">${item.category}</td>
                    <td class="p-2 border border-stone-300 text-right">${item.licence.toFixed(2)} ‚Ç¨</td>
                    <td class="p-2 border border-stone-300 text-right">${item.donateur.toFixed(2)} ‚Ç¨</td>
                    <td class="p-2 border border-stone-300 text-right font-bold text-green-700">${item.revient.toFixed(2)} ‚Ç¨</td>
                `;
                tableBody.appendChild(row);
            });
        }

        function updateDisplay(index) {
            const item = pricingData[index];
            standardPriceEl.textContent = `${item.licence.toFixed(2)} ‚Ç¨`;
            donorPriceEl.textContent = `${item.donateur.toFixed(2)} ‚Ç¨`;
            netCostEl.textContent = `${item.revient.toFixed(2)} ‚Ç¨`;

            const donationAmount = item.donateur - item.licence;
            const taxDeduction = item.donateur - item.revient;
            
            chartExplainerEl.textContent = `Le prix donateur comprend votre licence (${item.licence}‚Ç¨) et un don de ${donationAmount.toFixed(2)}‚Ç¨.`;

            updateChart(item);
        }

        function updateChart(item) {
            const taxDeduction = item.donateur - item.revient;
            const netCost = item.revient;
            
            const data = {
                labels: ['Option Donateur'],
                datasets: [
                    {
                        label: 'Co√ªt R√©el Pour Vous',
                        data: [netCost],
                        backgroundColor: 'rgba(22, 163, 74, 0.7)',
                        borderColor: 'rgba(22, 163, 74, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'D√©duction Fiscale (66%)',
                        data: [taxDeduction],
                        backgroundColor: 'rgba(251, 146, 60, 0.7)',
                         borderColor: 'rgba(251, 146, 60, 1)',
                        borderWidth: 1
                    }
                ]
            };
            
            if (pricingChart) {
                pricingChart.data = data;
                pricingChart.update();
            } else {
                const ctx = document.getElementById('pricingChart').getContext('2d');
                pricingChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                stacked: true,
                                title: {
                                    display: true,
                                    text: 'Montant Total Pay√© (en ‚Ç¨)'
                                }
                            },
                            y: {
                                stacked: true,
                                beginAtZero: true
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.x !== null) {
                                            label += new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR' }).format(context.parsed.x);
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }
        
        categorySelect.addEventListener('change', (e) => {
            updateDisplay(e.target.value);
        });

        window.onload = () => {
            populateSelect();
            populateTable();
            updateDisplay(0);
        };
    </script>
</body>
</html>
